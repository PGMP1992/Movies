﻿@using MoviesApp.ViewModels

@model HomeVM

<div class="container">
    <img class="card-img-top" src="/images/film-strip.webp" alt="Photo">
    @if (@Model.Users == null)
    {
        <h1 class="fw-light">
            There are no film friends in your area! 
        </h1>
    }
    else
    {
        @* <h6>You are in @Model.City, @Model.State</h6>
        <hr/> *@
        <h5 class="mt-3">Active Users</h5>
        <div class="album">
            <div class="row">
                @foreach (var item in Model.Users)
                {
                    <div class="col-6 col-sm-3 col-md-3 g-3">
                        <div class="card box-shadow h-100">
                            
                            <img src="@(item.ProfileImageryUrl ?? "/images/default.png")"
                                 class="card-img-top object-fit-cover rounded-top-4"
                                 alt="@(string.IsNullOrWhiteSpace(item.UserName) ? "Movie image" : item.UserName + " image")"
                                 style="height: 220px; object-fit: cover;"
                                 loading="lazy" decoding="async"
                                 onerror="this.onerror=null; this.src='/images/default.png';" />
                            
                            <div class=" py-2 px-3">
                                <h5>@item.UserName</h5>
                                <div class="h6 mb-2">@item.City</div>
                                <div class="h6 text-secondary mb-0">@item.State</div>
                            </div>
                        </div>
                    </div>
                }
            </div>
        </div>
    }
</div>
