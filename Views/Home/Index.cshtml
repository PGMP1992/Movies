﻿@using Movies.Models.ViewModels

@model HomeVM

<div class="container">
    <img class="card-img-top" src="/images/film-strip.webp" alt="Photo">
    @if (@Model.Users == null)
    {
        <h1 class="fw-light">
            There are no film friends in your area! 
        </h1>
    }
    else
    {
        @* <h6>You are in @Model.City, @Model.State</h6>
        <hr/> *@
        <h5 class="mt-3">Active Users</h5>
        <div class="album">
            <div class="row">
                @foreach (var item in Model.Users)
                {
                    <div class="col-md-3">
                        <div class="card mb-4 box-shadow">
                            @if (@item.ProfileImageryUrl != null)
                            {
                                <img class="card-img-top"
                                     src="@item.ProfileImageryUrl"
                                     alt="Photo"
                                     loading="lazy" decoding="async"
                                     onerror="this.onerror=null; this.src='/images/default.png';" />
                            }
                            else
                            {
                                <img class="card-img-top"
                                     src="/images/default.png"
                                     alt="Photo"
                                     loading="lazy" decoding="async" />
                            }

                            <div class="card-body">
                                <h5>@item.UserName</h5>
                                <h6 class="card-text">
                                    <small class="text-body-secondary">@item.City</small>
                                    <p class="card-text"><small class="text-body-secondary">@item.State</small></p>
                                </h6>
                            </div>
                        </div>
                    </div>
                }
            </div>
        </div>
    }
</div>
